{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, vModelCheckbox as _vModelCheckbox, withModifiers as _withModifiers, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-9ea40744\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", null, \"Gerador de Payload Pix\", -1 /* HOISTED */));\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"pixKey\"\n}, \"Chave Pix:\", -1 /* HOISTED */));\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"amount\"\n}, \"Valor:\", -1 /* HOISTED */));\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"uniquePayment\"\n}, \"Pagamento único:\", -1 /* HOISTED */));\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"merchantName\"\n}, \"Nome do titular:\", -1 /* HOISTED */));\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"merchantCity\"\n}, \"Cidade do titular:\", -1 /* HOISTED */));\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"txid\"\n}, \"ID da transação:\", -1 /* HOISTED */));\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\"\n}, \"Gerar Payload\", -1 /* HOISTED */));\nconst _hoisted_9 = {\n  key: 0\n};\nconst _hoisted_10 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"Payload Pix Gerado:\", -1 /* HOISTED */));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_hoisted_1, _createCommentVNode(\" Formulário para inserir informações \"), _createElementVNode(\"form\", {\n    onSubmit: _cache[6] || (_cache[6] = _withModifiers((...args) => $options.generatePayload && $options.generatePayload(...args), [\"prevent\"]))\n  }, [_hoisted_2, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"pixKey\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.formData.pixKey = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.formData.pixKey]]), _hoisted_3, _withDirectives(_createElementVNode(\"input\", {\n    type: \"number\",\n    id: \"amount\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.formData.amount = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.formData.amount]]), _hoisted_4, _withDirectives(_createElementVNode(\"input\", {\n    type: \"checkbox\",\n    id: \"uniquePayment\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.formData.uniquePayment = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelCheckbox, $data.formData.uniquePayment]]), _hoisted_5, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"merchantName\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.formData.merchantName = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.formData.merchantName]]), _hoisted_6, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"merchantCity\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.formData.merchantCity = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.formData.merchantCity]]), _hoisted_7, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"txid\",\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.formData.txid = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.formData.txid]]), _hoisted_8], 32 /* HYDRATE_EVENTS */), _createCommentVNode(\" Exibição do Payload Pix gerado \"), $data.payloadGenerated ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [_hoisted_10, _createElementVNode(\"pre\", null, _toDisplayString($data.payloadGenerated), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["_createElementVNode","for","type","_createElementBlock","_hoisted_1","_createCommentVNode","onSubmit","_cache","_withModifiers","args","$options","generatePayload","_hoisted_2","id","$data","formData","pixKey","$event","required","_hoisted_3","amount","_hoisted_4","uniquePayment","_hoisted_5","merchantName","_hoisted_6","merchantCity","_hoisted_7","txid","_hoisted_8","payloadGenerated","_hoisted_9","_hoisted_10","_toDisplayString"],"sources":["C:\\Users\\11\\Desktop\\teste-pix.js\\teste-pix.js\\src\\views\\HomeView.vue"],"sourcesContent":["<template>\n  <div>\n    <h1>Gerador de Payload Pix</h1>\n\n    <!-- Formulário para inserir informações -->\n    <form @submit.prevent=\"generatePayload\">\n      <label for=\"pixKey\">Chave Pix:</label>\n      <input type=\"text\" id=\"pixKey\" v-model=\"formData.pixKey\" required>\n\n      <label for=\"amount\">Valor:</label>\n      <input type=\"number\" id=\"amount\" v-model=\"formData.amount\" required>\n\n      <label for=\"uniquePayment\">Pagamento único:</label>\n      <input type=\"checkbox\" id=\"uniquePayment\" v-model=\"formData.uniquePayment\">\n\n      <label for=\"merchantName\">Nome do titular:</label>\n      <input type=\"text\" id=\"merchantName\" v-model=\"formData.merchantName\" required>\n\n      <label for=\"merchantCity\">Cidade do titular:</label>\n      <input type=\"text\" id=\"merchantCity\" v-model=\"formData.merchantCity\" required>\n\n      <label for=\"txid\">ID da transação:</label>\n      <input type=\"text\" id=\"txid\" v-model=\"formData.txid\" required>\n\n      <button type=\"submit\">Gerar Payload</button>\n    </form>\n\n    <!-- Exibição do Payload Pix gerado -->\n    <div v-if=\"payloadGenerated\">\n      <h2>Payload Pix Gerado:</h2>\n      <pre>{{ payloadGenerated }}</pre>\n    </div>\n  </div>\n</template>\n\n<script>\n// Define a classe Payload\nclass Payload {\n  // IDs do Payload do Pix\n  static ID_PAYLOAD_FORMAT_INDICATOR = '00';\n  static ID_POINT_OF_INITIATION_METHOD = '01';\n  static ID_MERCHANT_ACCOUNT_INFORMATION = '26';\n  static ID_MERCHANT_ACCOUNT_INFORMATION_GUI = '00';\n  static ID_MERCHANT_ACCOUNT_INFORMATION_KEY = '01';\n  static ID_MERCHANT_ACCOUNT_INFORMATION_DESCRIPTION = '02';\n  static ID_MERCHANT_ACCOUNT_INFORMATION_URL = '25';\n  static ID_MERCHANT_CATEGORY_CODE = '52';\n  static ID_TRANSACTION_CURRENCY = '53';\n  static ID_TRANSACTION_AMOUNT = '54';\n  static ID_COUNTRY_CODE = '58';\n  static ID_MERCHANT_NAME = '59';\n  static ID_MERCHANT_CITY = '60';\n  static ID_ADDITIONAL_DATA_FIELD_TEMPLATE = '62';\n  static ID_ADDITIONAL_DATA_FIELD_TEMPLATE_TXID = '05';\n  static ID_CRC16 = '63';\n\n  // Construtor da classe\n  constructor() {\n    this.pixKey = '';\n    this.description = '';\n    this.merchantName = '';\n    this.merchantCity = '';\n    this.txid = '';\n    this.amount = '';\n    this.uniquePayment = false;\n    this.url = '';\n  }\n\n  // Define o valor de pixKey\n  setPixKey(pixKey) {\n    this.pixKey = pixKey;\n    return this;\n  }\n\n  // Define o valor de uniquePayment\n  setUniquePayment(uniquePayment) {\n    this.uniquePayment = uniquePayment;\n    return this;\n  }\n\n  // Define o valor de url\n  setUrl(url) {\n    this.url = url;\n    return this;\n  }\n\n  // Define o valor de description\n  setDescription(description) {\n    this.description = description;\n    return this;\n  }\n\n  // Define o valor de merchantName\n  setMerchantName(merchantName) {\n    this.merchantName = merchantName;\n    return this;\n  }\n\n  // Define o valor de merchantCity\n  setMerchantCity(merchantCity) {\n    this.merchantCity = merchantCity;\n    return this;\n  }\n\n  // Define o valor de txid\n  setTxid(txid) {\n    this.txid = txid;\n    return this;\n  }\n\n  // Define o valor de amount\n  setAmount(amount) {\n    this.amount = amount.toFixed(2);\n    return this;\n  }\n\n  // Retorna o valor completo de um objeto do payload\n  getValue(id, value) {\n    const size = value.length.toString().padStart(2, '0');\n    return id + size + value;\n  }\n\n  // Retorna os valores completos da informação da conta\n  getMerchantAccountInformation() {\n    // DOMÍNIO DO BANCO\n    const gui = this.getValue(\n      Payload.ID_MERCHANT_ACCOUNT_INFORMATION_GUI,\n      'br.gov.bcb.pix'\n    );\n\n    // CHAVE PIX\n    const key =\n      this.pixKey.length > 0\n        ? this.getValue(Payload.ID_MERCHANT_ACCOUNT_INFORMATION_KEY, this.pixKey)\n        : '';\n\n    // DESCRIÇÃO DO PAGAMENTO\n    const description =\n      this.description.length > 0\n        ? this.getValue(\n            Payload.ID_MERCHANT_ACCOUNT_INFORMATION_DESCRIPTION,\n            this.description\n          )\n        : '';\n\n    // URL DO QR CODE DINÂMICO\n    const url =\n      this.url.length > 0\n        ? this.getValue(\n            Payload.ID_MERCHANT_ACCOUNT_INFORMATION_URL,\n            this.url.replace(/^https?:\\/\\//, '')\n          )\n        : '';\n\n    // VALOR COMPLETO DA CONTA\n    return this.getValue(\n      Payload.ID_MERCHANT_ACCOUNT_INFORMATION,\n      gui + key + description + url\n    );\n  }\n\n  // Retorna os valores completos do campo adicional do pix (TXID)\n  getAdditionalDataFieldTemplate() {\n    // TXID\n    const txid = this.getValue(\n      Payload.ID_ADDITIONAL_DATA_FIELD_TEMPLATE_TXID,\n      this.txid\n    );\n\n    // RETORNA O VALOR COMPLETO\n    return this.getValue(\n      Payload.ID_ADDITIONAL_DATA_FIELD_TEMPLATE,\n      txid\n    );\n  }\n\n  // Retorna o valor do ID_POINT_OF_INITIATION_METHOD\n  getUniquePayment() {\n    return this.uniquePayment\n      ? this.getValue(Payload.ID_POINT_OF_INITIATION_METHOD, '12')\n      : '';\n  }\n\n  // Gera o código completo do payload Pix\n  getPayload() {\n    // CRIA O PAYLOAD\n    const payload =\n      this.getValue(Payload.ID_PAYLOAD_FORMAT_INDICATOR, '01') +\n      this.getUniquePayment() +\n      this.getMerchantAccountInformation() +\n      this.getValue(Payload.ID_MERCHANT_CATEGORY_CODE, '0000') +\n      this.getValue(Payload.ID_TRANSACTION_CURRENCY, '986') +\n      this.getValue(Payload.ID_TRANSACTION_AMOUNT, this.amount) +\n      this.getValue(Payload.ID_COUNTRY_CODE, 'BR') +\n      this.getValue(Payload.ID_MERCHANT_NAME, this.merchantName) +\n      this.getValue(Payload.ID_MERCHANT_CITY, this.merchantCity) +\n      this.getAdditionalDataFieldTemplate();\n\n    // RETORNA O PAYLOAD + CRC16\n    return payload + this.getCRC16(payload);\n  }\n\n  // Calcula o valor da hash de validação do código pix\n  getCRC16(payload) {\n    // ADICIONA DADOS GERAIS NO PAYLOAD\n    payload += Payload.ID_CRC16 + '04';\n\n    // DADOS DEFINIDOS PELO BACEN\n    const polinomio = 0x1021;\n    let resultado = 0xFFFF;\n\n    // CHECKSUM\n    if (payload.length > 0) {\n      for (let offset = 0; offset < payload.length; offset++) {\n        resultado ^= (payload.charCodeAt(offset) << 8);\n        for (let bitwise = 0; bitwise < 8; bitwise++) {\n          if (((resultado <<= 1) & 0x10000)) {\n            resultado ^= polinomio;\n          }\n          resultado &= 0xFFFF;\n        }\n      }\n    }\n\n    // RETORNA CÓDIGO CRC16 DE 4 CARACTERES\n    return (\n      Payload.ID_CRC16 + '04' + resultado.toString(16).toUpperCase().padStart(4, '0')\n    );\n  }\n}\n\nexport default {\n  data() {\n    return {\n      formData: {\n        pixKey: '',\n        amount: 0,\n        uniquePayment: false,\n        merchantName: '',\n        merchantCity: '',\n        txid: '',\n      },\n      payloadGenerated: null,\n    };\n  },\n  methods: {\n    generatePayload() {\n      // Crie uma instância da classe Payload e configure os dados a partir do formulário\n      const payload = new Payload();\n      payload\n        .setPixKey(this.formData.pixKey)\n        .setAmount(this.formData.amount)\n        .setUniquePayment(this.formData.uniquePayment)\n        .setMerchantName(this.formData.merchantName)\n        .setMerchantCity(this.formData.merchantCity)\n        .setTxid(this.formData.txid);\n\n      // Gere o payload Pix\n      const generatedPayload = payload.getPayload();\n\n      // Atualize o estado para exibir o payload gerado\n      this.payloadGenerated = generatedPayload;\n    },\n  },\n};\n</script>\n\n<style scoped>\n/* Adicione estilos CSS conforme necessário */\n</style>\n"],"mappings":";;gEAEIA,mBAAA,CAA+B,YAA3B,wBAAsB;gEAIxBA,mBAAA,CAAsC;EAA/BC,GAAG,EAAC;AAAQ,GAAC,YAAU;gEAG9BD,mBAAA,CAAkC;EAA3BC,GAAG,EAAC;AAAQ,GAAC,QAAM;gEAG1BD,mBAAA,CAAmD;EAA5CC,GAAG,EAAC;AAAe,GAAC,kBAAgB;gEAG3CD,mBAAA,CAAkD;EAA3CC,GAAG,EAAC;AAAc,GAAC,kBAAgB;gEAG1CD,mBAAA,CAAoD;EAA7CC,GAAG,EAAC;AAAc,GAAC,oBAAkB;gEAG5CD,mBAAA,CAA0C;EAAnCC,GAAG,EAAC;AAAM,GAAC,kBAAgB;gEAGlCD,mBAAA,CAA4C;EAApCE,IAAI,EAAC;AAAQ,GAAC,eAAa;;;;iEAKnCF,mBAAA,CAA4B,YAAxB,qBAAmB;;;uBA5B3BG,mBAAA,CA+BM,cA9BJC,UAA+B,EAE/BC,mBAAA,yCAA4C,EAC5CL,mBAAA,CAoBO;IApBAM,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,KAAAC,IAAA,KAAUC,QAAA,CAAAC,eAAA,IAAAD,QAAA,CAAAC,eAAA,IAAAF,IAAA,CAAe;MACpCG,UAAsC,E,gBACtCZ,mBAAA,CAAkE;IAA3DE,IAAI,EAAC,MAAM;IAACW,EAAE,EAAC,QAAQ;+DAAUC,KAAA,CAAAC,QAAQ,CAACC,MAAM,GAAAC,MAAA;IAAEC,QAAQ,EAAR;iDAAjBJ,KAAA,CAAAC,QAAQ,CAACC,MAAM,E,GAEvDG,UAAkC,E,gBAClCnB,mBAAA,CAAoE;IAA7DE,IAAI,EAAC,QAAQ;IAACW,EAAE,EAAC,QAAQ;+DAAUC,KAAA,CAAAC,QAAQ,CAACK,MAAM,GAAAH,MAAA;IAAEC,QAAQ,EAAR;iDAAjBJ,KAAA,CAAAC,QAAQ,CAACK,MAAM,E,GAEzDC,UAAmD,E,gBACnDrB,mBAAA,CAA2E;IAApEE,IAAI,EAAC,UAAU;IAACW,EAAE,EAAC,eAAe;+DAAUC,KAAA,CAAAC,QAAQ,CAACO,aAAa,GAAAL,MAAA;qDAAtBH,KAAA,CAAAC,QAAQ,CAACO,aAAa,E,GAEzEC,UAAkD,E,gBAClDvB,mBAAA,CAA8E;IAAvEE,IAAI,EAAC,MAAM;IAACW,EAAE,EAAC,cAAc;+DAAUC,KAAA,CAAAC,QAAQ,CAACS,YAAY,GAAAP,MAAA;IAAEC,QAAQ,EAAR;iDAAvBJ,KAAA,CAAAC,QAAQ,CAACS,YAAY,E,GAEnEC,UAAoD,E,gBACpDzB,mBAAA,CAA8E;IAAvEE,IAAI,EAAC,MAAM;IAACW,EAAE,EAAC,cAAc;+DAAUC,KAAA,CAAAC,QAAQ,CAACW,YAAY,GAAAT,MAAA;IAAEC,QAAQ,EAAR;iDAAvBJ,KAAA,CAAAC,QAAQ,CAACW,YAAY,E,GAEnEC,UAA0C,E,gBAC1C3B,mBAAA,CAA8D;IAAvDE,IAAI,EAAC,MAAM;IAACW,EAAE,EAAC,MAAM;+DAAUC,KAAA,CAAAC,QAAQ,CAACa,IAAI,GAAAX,MAAA;IAAEC,QAAQ,EAAR;iDAAfJ,KAAA,CAAAC,QAAQ,CAACa,IAAI,E,GAEnDC,UAA4C,C,4BAG9CxB,mBAAA,oCAAuC,EAC5BS,KAAA,CAAAgB,gBAAgB,I,cAA3B3B,mBAAA,CAGM,OAAA4B,UAAA,GAFJC,WAA4B,EAC5BhC,mBAAA,CAAiC,aAAAiC,gBAAA,CAAzBnB,KAAA,CAAAgB,gBAAgB,iB"},"metadata":{},"sourceType":"module","externalDependencies":[]}